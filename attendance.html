<script>
function markAttendance() {
    const user = localStorage.getItem("loggedInUser");
    const today = new Date().toISOString().split("T")[0];

    if (!user) {
        alert("Please login first");
        return;
    }

    let attendanceData = JSON.parse(localStorage.getItem("attendance")) || {};

    if (!attendanceData[today]) {
        attendanceData[today] = {};
    }

    if (attendanceData[today][user]) {
        alert("Attendance already marked for today");
    } else {
        attendanceData[today][user] = "Present";
        localStorage.setItem("attendance", JSON.stringify(attendanceData));
        alert("Attendance marked successfully");
    }
}
</script>
