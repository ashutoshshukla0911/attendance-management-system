<!DOCTYPE html>
<html>
<head>
  <title>Attendance</title>
</head>
<body>

<h2>Mark Attendance</h2>

<button onclick="markAttendance()">Mark Attendance</button>
<br><br>
<a href="dashboard.html">Go to Admin Dashboard</a>

<script>
function markAttendance() {
  let user = localStorage.getItem("loggedInUser");

  if (!user) {
    user = prompt("Enter your name:");
    if (!user) return;
    localStorage.setItem("loggedInUser", user);
  }

  const today = new Date().toISOString().split("T")[0];
  let data = JSON.parse(localStorage.getItem("attendance")) || {};

  if (!data[today]) data[today] = {};

  if (data[today][user]) {
    alert("Attendance already marked");
  } else {
    data[today][user] = "Present";
    localStorage.setItem("attendance", JSON.stringify(data));
    alert("Attendance marked successfully");
  }
}
</script>

</body>
</html>
